<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Italy Countdown</title>
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" />
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 3 2'><rect width='1' height='2' fill='%23008C45'/><rect width='1' height='2' x='1' fill='%23fff'/><rect width='1' height='2' x='2' fill='%23CD212A'/></svg>" />
  <style>
    body {
      min-height: 100vh;
      margin: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      /* Italian Flag Gradient Background */
      background: linear-gradient(135deg, #008C45 0%, #ffffff 50%, #CD212A 100%);
      font-family: 'Montserrat', sans-serif;
      flex-direction: column;
      color: #333;
      padding: 20px;
      box-sizing: border-box;
    }
    .container {
      text-align: center;
      background: rgba(255, 255, 255, 0.9);
      padding: 40px;
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      max-width: 600px;
      width: 90%;
    }
    .countdown {
      font-size: 2.2em;
      font-weight: bold;
      letter-spacing: 1px;
      margin-bottom: 30px;
      color: #CD212A;
    }
    .loader-circle {
      width: 84px;
      height: 84px;
      border-radius: 50%;
      border: 4px solid #008C45;
      border-top-color: transparent;
      animation: spin 1.5s linear infinite;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 30px auto;
      position: relative;
    }
    @keyframes spin {
      0% { transform: rotate(0deg);}
      100% { transform: rotate(360deg);}
    }
    .icon-container {
      position: absolute;
      width: 84px;
      height: 84px;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .icon-fade {
      position: absolute;
      width: 40px;
      height: 40px;
      fill: #008C45;
      stroke: #008C45;
      opacity: 0;
      transform: scale(0.85);
      transition: opacity 0.7s, transform 0.7s;
    }
    .icon-fade.active {
      opacity: 1;
      transform: scale(1);
    }
    /* Interaction Section */
    .question-box {
      margin-top: 20px;
      border-top: 2px solid #eee;
      padding-top: 20px;
    }
    h2 { font-size: 1.2em; margin-bottom: 20px; color: #444; }
    .btn-group { display: flex; gap: 10px; justify-content: center; }
    button {
      padding: 10px 25px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-family: 'Montserrat', sans-serif;
      font-weight: bold;
      transition: transform 0.2s;
    }
    .btn-yes { background-color: #008C45; color: white; }
    .btn-no { background-color: #CD212A; color: white; }
    button:hover { transform: scale(1.05); opacity: 0.9; }
    
    #alternative-input {
      margin-top: 20px;
      display: none;
      animation: fadeIn 0.5s;
    }
    input[type="text"] {
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      width: 80%;
      margin-bottom: 10px;
    }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
  </style>
</head>
<body>

  <div class="container">
    <div class="loader-circle" aria-label="Loading indicator">
      <div class="icon-container">
        <svg class="icon-fade" id="icon-locker" viewBox="0 0 24 24">
          <path d="M12 17a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z" />
          <path d="M17 8h-1V6a4 4 0 0 0-8 0v2H7a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2zm-7-2a2 2 0 0 1 4 0v2H10z" />
        </svg>
        <svg class="icon-fade" id="icon-camera" viewBox="0 0 24 24">
          <path d="M21 7h-1.17l-1.83-2H7L5.17 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h17a2 2 0 0 0 2-2v-9a2 2 0 0 0-2-2zm-9 9a4 4 0 1 1 4-4 4 4 0 0 1-4 4z" />
          <circle cx="12" cy="12" r="2" />
        </svg>
        <svg class="icon-fade" id="icon-question" viewBox="0 0 24 24" fill="none" stroke-width="2">
          <circle cx="12" cy="12" r="10"/>
          <path d="M9 9a3 3 0 0 1 6 0c0 2-3 3-3 3"/>
          <line x1="12" y1="17" x2="12" y2="17"/>
        </svg>
      </div>
    </div>

    <div class="countdown" id="countdown"></div>

    <div class="question-box">
      <h2>Poti sa iti iei liber in perioada 5-9 martie?</h2>
      <div class="btn-group">
        <button class="btn-yes" onclick="answer('yes')">DA</button>
        <button class="btn-no" onclick="answer('no')">NU</button>
      </div>

      <div id="alternative-input">
        <p>Ce perioada ar fi mai buna?</p>
        <input type="text" id="alt-period" placeholder="Ex: 12-16 Martie">
        <button class="btn-yes" onclick="submitAlt()">Trimite</button>
      </div>
      <p id="response-msg" style="margin-top:15px; font-weight:bold; color:#008C45;"></p>
    </div>
  </div>

  <script>
    // Countdown logic for March 5th, 2026
    function updateCountdown() {
      // March is month 2 (0-indexed)
      const endDate = new Date(2026, 2, 5, 0, 0, 0); 
      const now = new Date();
      let diff = endDate - now;

      if (diff <= 0) {
        document.getElementById('countdown').textContent = "E TIMPUL!";
        return;
      }

      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
      const mins = Math.floor((diff / (1000 * 60)) % 60);
      const secs = Math.floor((diff / 1000) % 60);

      document.getElementById('countdown').textContent =
        `${String(days).padStart(2, '0')}z ${String(hours).padStart(2, '0')}h ${String(mins).padStart(2, '0')}m ${String(secs).padStart(2, '0')}s`;
    }

    setInterval(updateCountdown, 1000);
    updateCountdown();

    // Icon fade animation logic
    const icons = [
      document.getElementById('icon-locker'),
      document.getElementById('icon-camera'),
      document.getElementById('icon-question')
    ];
    let activeIdx = 0;

    function showIcon(index) {
      icons.forEach((icon, i) => {
        icon.classList.toggle('active', i === index);
      });
    }

    setInterval(() => {
      activeIdx = (activeIdx + 1) % icons.length;
      showIcon(activeIdx);
    }, 1500);
    showIcon(activeIdx);

    // Form logic
    function answer(choice) {
      const altInput = document.getElementById('alternative-input');
      const msg = document.getElementById('response-msg');
      
      if(choice === 'yes') {
        altInput.style.display = 'none';
        msg.textContent = "Perfect! PregÄƒteÈ™te bagajele! ðŸ‡®ðŸ‡¹";
        msg.style.color = "#008C45";
      } else {
        altInput.style.display = 'block';
        msg.textContent = "";
      }
    }

    function submitAlt() {
      const val = document.getElementById('alt-period').value;
      if(val) {
        document.getElementById('response-msg').textContent = "Am notat perioada: " + val + "!";
        document.getElementById('alternative-input').style.display = 'none';
      }
    }
  </script>
</body>
</html>
